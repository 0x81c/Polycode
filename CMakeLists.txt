CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(PolyCode)

IF(NOT CMAKE_BUILD_TYPE)
        SET(CMAKE_BUILD_TYPE "Debug")
#	SET(CMAKE_BUILD_TYPE "Release")
ENDIF(NOT CMAKE_BUILD_TYPE)

IF(MSVC)
	OPTION(USE_MSVC_FAST_FLOATINGPOINT "Use MSVC /fp:fast option" ON)
	IF(USE_MSVC_FAST_FLOATINGPOINT)
		ADD_DEFINITIONS(/fp:fast)
	ENDIF(USE_MSVC_FAST_FLOATINGPOINT)
ENDIF(MSVC)

FIND_PACKAGE(OpenGL REQUIRED)
FIND_PACKAGE(OpenAL REQUIRED)
FIND_PACKAGE(Freetype REQUIRED)
FIND_PACKAGE(PNG REQUIRED)
FIND_PACKAGE(SDL REQUIRED)
FIND_PACKAGE(Lua51)

FIND_LIBRARY(VORBISFILE_LIBRARY NAMES vorbisfile)

ADD_DEFINITIONS(-DGL_GLEXT_PROTOTYPES ${PNG_DEFINITIONS})

INCLUDE_DIRECTORIES(
    ${OPENGL_INCLUDE_DIR}
    ${FREETYPE_INCLUDE_DIRS}
    ${PolyCode_SOURCE_DIR}/Core/Build/Linux
    ${PolyCode_SOURCE_DIR}/Core/Contents/Include
)

ADD_SUBDIRECTORY(Bindings/Contents)
ADD_SUBDIRECTORY(Core/Contents)
ADD_SUBDIRECTORY(Examples/C++)
ADD_SUBDIRECTORY(Modules/Contents)
ADD_SUBDIRECTORY(Player/Contents)
ADD_SUBDIRECTORY(Tools/Contents)
